<body>
    <div class="container">

        <div class="main">

            <div class="content">
                <div>
                    <h1 style="text-align: center; margin-top: 1rem; margin-bottom: 1rem; font-family: 'Poppins';">
                        Expertos que hacen la diferencia: nuestros camelladores</h1>

                </div>
                <!-- No cambiar nada ya esta configurado con la base de datos -->
                <div class="job-cards">
                    <div class="boton-modal" *ngFor="let worker of workers">
                        <label for="btn-modal" (click)="openModal(worker)">
                            <div class="card">
                                <div class="card-header">
                                    <div class="job-info">
                                        <div style="display: flex; align-items: center;">
                                            <div [ngStyle]="{
                                                'width': '50px',
                                                'height': '50px',
                                                'border-radius': '50%',
                                                'background-color': '#007bff',
                                                'color': 'white',
                                                'display': 'flex',
                                                'justify-content': 'center',
                                                'align-items': 'center',
                                                'font-size': '20px'
                                              }">
                                                {{ getInitials(worker?.fullname) }}
                                            </div>
                                        </div>
                                        <div>

                                            <h5>{{worker.fullname}}</h5>
                                            <p>{{worker.address}}</p>
                                        </div>
                                    </div>
                                    <i class='bx bxs-error-alt'></i>
                                </div>
                                <div class="card-tags">
                                    <a>{{worker.selectedProfessions.name}}</a>
                                </div>
                                <div class="card-desc">
                                    {{worker.valueTextArea}}
                                </div>
                            </div>
                        </label>
                    </div>
                </div>

            </div>
        </div>

    </div>
    <input type="checkbox" id="btn-modal">
    <div class="container-modal" *ngIf="isModalOpen" (click)="closeModal($event)">
        <div class="content-modal" (click)="stopPropagation($event)">
            <div class="btn-cerrar">
                <label for="btn-modal" (click)="closeModal()"><i class='bx bx-x bx-rotate-90'></i></label>
            </div>
            <footer id="empleador">

                <div id="foto" style="cursor: pointer; ">
                    <p-image
                        src="https://media.istockphoto.com/id/1171169099/es/foto/hombre-con-brazos-cruzados-aislados-sobre-fondo-gris.jpg?s=612x612&w=0&k=20&c=8qDLKdLMm2i8DHXY6crX6a5omVh2IxqrOxJV2QGzgFg="
                        alt="Image" width="200" height="200" />

                    <div id="perfil">
                        <h2>{{selectedJob?.selectedProfessions.name}}</h2>
                        <h3>Acerca de {{selectedJob?.fullname}}</h3>
                        <p>{{selectedJob?.valueTextArea}}</p>
                    </div>

                </div>

                <div id="postular">

                    <!--  <button *ngIf="!selectedJob?.isApplied" class="animated-button" (click)="addDocumentToSubCollection()"> -->

                    <button class="animated-button">
                        <svg viewBox="0 0 24 24" class="arr-2" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M16.1716 10.9999L10.8076 5.63589L12.2218 4.22168L20 11.9999L12.2218 19.778L10.8076 18.3638L16.1716 12.9999H4V10.9999H16.1716Z">
                            </path>
                        </svg>
                        <span class="text" (click)="navigateToPage()">Ver Perfil</span>
                        <span class="circle"></span>
                        <svg viewBox="0 0 24 24" class="arr-1" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M16.1716 10.9999L10.8076 5.63589L12.2218 4.22168L20 11.9999L12.2218 19.778L10.8076 18.3638L16.1716 12.9999H4V10.9999H16.1716Z">
                            </path>
                        </svg>
                    </button>

                </div>
            </footer>

            <label for="btn-modal" class="cerrar-modal"></label>

        </div>
    </div>

</body>

<!-- Popup de carga -->
<div *ngIf="isLoading" class="popup">
    <div class="loading-container">
        <div class="spinner"></div>
        <p>Por favor, espere mientras procesamos su postulaci√≥n.</p>
    </div>

</div>

<p-toast></p-toast>